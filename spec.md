# Project M4-1: Интернет-магазин на Next.js 15

### **Добро пожаловать в Hop & Barley!**

У нас форс-мажор: вся команда разработки неожиданно выиграла поездку на Чемпионат мира по футболу и умчалась в незапланированный отпуск. Они оставили нам полностью готовый дизайн и большие планы. Теперь запуск нашего нового интернет-магазина — в твоих руках!

**Твоя миссия: Запустить MVP**

В реальном мире один человек не делает весь проект целиком. Работа делится на части, чтобы быстрее получить результат. Поэтому мы поступим как настоящий стартап: сфокусируемся на **MVP (Minimum Viable Product)**.

Твоя главная задача — реализовать **ключевой путь пользователя**: от витрины с товарами до оформления заказа. Именно эти 3-5 критически важных страниц описаны в твоем техническом задании.

**Как будем работать:**
- У тебя будет 3 занятия с ментором, где вы вместе разберете важные части проекта.
- **Остальные страницы из дизайна — это бэклог.** Если ты быстро справишься с основным функционалом, сможешь, как и в реальной команде, взять дополнительную задачу и сделать проект еще круче.


### Design and Code
- Figma https://www.figma.com/design/H7jIUNYzAGc7o8R0iABQjy/Project-M4-1--Next.js--share-?node-id=0-1&t=mpCOOqkRby56BiUx-1
- html template - https://github.com/MagicCodeGit/Hop-and-Barley.git

### Техническое задание

Создать интернет-магазин с каталогом товаров, корзиной, формой заказа, авторизацией и API для управления товарами. 

## **1. Главная страница ProductList (`/`)**

- Отображение **списка товаров** (с SSR/ISR через `revalidate`)
- Динамическая подгрузка данных из API (`/api/products`)
- Компоненты:
  - `ProductCard.tsx` — карточка товара (Server Component)
  - `ProductList.tsx` — список товаров (Server Component)
- Загрузка данных с кешированием (`revalidate: 60`)

**Темы для практики:**

- SSR/ISR
- Server Components 

# **2. Страница продукта (`/product/[id]`)**

- Динамическая маршрутизация (`[id].tsx`)
- Отображение **деталей продукта**, цены, описания
- Загрузка данных с `fetch()` (SSR, ISR)
- Комментарии и отзывы (`Server Actions`)
- Возможность **добавить в корзину** (Client Component)

**Темы для практики:**

- Динамическая маршрутизация
- Загрузка данных
- Формы и Server Actions

## **3. Корзина (`/cart`)**

- Хранение данных о товарах в **Client Component**
- Использование **Context API** для управления корзиной
- Сумма заказа, количество товаров, удаление товаров
- Форма оформления заказа (форма отправляется через `Server Actions`)

**Темы для практики:**

- Интерактивность и формы
- Server Actions

## **4. Аутентификация и личный кабинет (`/account`)**

- Вход и регистрация через `next-auth`
  - Провайдеры: Google, Email
- Защищённые маршруты (`middleware.ts`)
- Личный кабинет (`/account/[id]`) с:
  - Историей заказов (SSR с кешированием)
  - Формой изменения профиля (`Server Actions`)

**Темы для практики:**

- Аутентификация
- Middleware

## **5. API и серверная логика (`/api/`)**

- `/api/products` — получение всех товаров (GET)
- `/api/products/[id]` — CRUD для товара (GET, POST, PUT, DELETE)
- `/api/cart` — обновление корзины (POST, DELETE)
- `/api/orders` — создание заказа

**Темы для практики:**

- API Routes
- Server Actions
- Работа с данными через `fetch()` 

## 6. **Дополнительно (по желанию):**

- **Кэширование и оптимизация изображений** (`next/image`)
- **Модуль уведомлений** (`useEffect` + Server Actions)
- **SEO-оптимизация** (`generateMetadata()` в динамических страницах)

## **Чеклист по функциональности:**

| №    | Функция               | Страница        | Ключевые технологии        |
| ---- | --------------------- | --------------- | -------------------------- |
| 1    | Список товаров        | `/`             | SSR, ISR, API              |
| 2    | Динамическая страница | `/product/[id]` | SSR, Server Actions        |
| 3    | Корзина               | `/cart`         | Context, Client Components |
| 4    | Форма заказа          | `/cart`         | Form, Server Actions       |
| 5    | Аутентификация        | `/account`      | next-auth, middleware      |
| 6    | Личный кабинет        | `/account/[id]` | SSR, Server Actions        |
| 8    | API для товаров       | `/api/products` | CRUD, API Routes           |
| 9    | API для заказов       | `/api/orders`   | POST, DELETE               |

